form_html = """
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Meeti Soluções</title>
    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        background: linear-gradient(120deg, #e0e8f3 0%, #eaf4fc 100%);
        margin: 0;
        padding: 0;
        min-height: 100vh;
        position: relative;
        overflow-x: hidden;
      }
      .side-decor {
        position: absolute;
        top: 0;
        bottom: 0;
        width: 180px;
        z-index: 0;
        pointer-events: none;
      }
      .side-left {
        left: 0;
        background: radial-gradient(
          circle at 10% 50%,
          #badaff66 0%,
          transparent 74%
        );
      }
      .side-right {
        right: 0;
        background: radial-gradient(
          circle at 90% 50%,
          #f0d9ff70 0%,
          transparent 75%
        );
      }
      .topbar {
        width: 100%;
        background: none;
        padding-top: 38px;
        padding-bottom: 13px;
      }
      .brand-logo {
        display: block;
        margin: 0 auto;
        max-width: 270px;
        width: 65vw;
        height: auto;
        filter: drop-shadow(0 4px 15px #276ef122);
      }
      .title-underline {
        width: 78px;
        height: 6px;
        background: linear-gradient(90deg, #276ef1 0%, #44bbee 90%);
        margin: 8px auto 0 auto;
        border-radius: 9px;
      }
      .header-img {
        width: 100%;
        max-height: 250px;
        height: 27vw;
        min-height: 128px;
        object-fit: cover;
        display: block;
        box-shadow: 0 3px 22px #51b8e630;
        margin-bottom: 0;
      }
      .container-flex {
        display: flex;
        justify-content: center;
        align-items: stretch;
        max-width: 900px;
        margin: -65px auto 52px auto;
        z-index: 2;
        position: relative;
      }
      .img-box-left {
        background: #f0f4fd;
        border-radius: 1em 0 0 1em;
        min-width: 200px;
        max-width: 270px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 40px #b0c7ea33;
        margin-right: 0;
      }
      .img-box-left img {
        display: block;
        max-width: 230px;
        max-height: 360px;
        width: 100%;
        height: auto;
        border-radius: 15px;
        box-shadow: 0 3px 18px #276ef144;
        margin: 15px 9px 15px 15px;
        object-fit: contain;
      }
      .container {
        max-width: 510px;
        width: 100%;
        background: #fffffffa;
        border-radius: 0 16px 16px 0;
        box-shadow: 0 12px 36px #b0c7ea44, 0 1.5px 0 #276ef115;
        padding: 38px 28px 22px 28px;
        position: relative;
        z-index: 2;
        animation: slidein 0.7s ease;
        min-width: 290px;
      }
      @keyframes slidein {
        from {
          opacity: 0;
          transform: translateY(70px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      h2 {
        text-align: center;
        color: #2b4971;
        margin-top: 0.5em;
        margin-bottom: 1.2em;
        font-size: 1.43em;
        font-weight: 500;
        letter-spacing: 0.02em;
      }
      label {
        font-weight: 500;
        color: #233a5e;
      }
      input[type="text"],
      select {
        width: 100%;
        padding: 12px;
        border: 1.7px solid #b4cae9;
        border-radius: 8px;
        margin-top: 9px;
        margin-bottom: 22px;
        font-size: 1em;
        background: #f8fbfe;
        transition: border 0.15s;
      }
      input[type="text"]:focus,
      select:focus {
        border: 1.7px solid #276ef1;
        outline: none;
      }
      input[type="submit"] {
        width: 100%;
        background: linear-gradient(90deg, #276ef1 70%, #44bbee 120%);
        color: white;
        border: none;
        padding: 13px;
        border-radius: 9px;
        font-size: 1.09em;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 2px 8px #276ef120;
        letter-spacing: 0.09em;
        margin-top: 3px;
        margin-bottom: 1px;
        transition: background 0.18s;
      }
      input[type="submit"]:hover {
        background: #155ab6;
      }
      .result,
      .list-result {
        margin-top: 36px;
        background: linear-gradient(90deg, #e8f3fe 70%, #e0f7fa 130%);
        border-radius: 9px;
        padding: 21px;
        font-size: 1.14em;
        color: #22456c;
        font-weight: bold;
        text-align: left;
      }
      .list-result ul {
        margin: 14px 0 0 18px;
        padding: 0;
        font-weight: normal;
        font-size: 0.98em;
        color: #22456c;
      }
      .list-result ul li {
        margin-bottom: 6px;
      }
      .error {
        margin-top: 36px;
        text-align: center;
        color: #c0392b;
        font-weight: bold;
        background: #ffeaea;
        border-radius: 9px;
        padding: 15px 0;
        font-size: 1.02em;
      }
      @media (max-width: 950px) {
        .container-flex {
          flex-direction: column;
          align-items: center;
        }
        .img-box-left,
        .container {
          border-radius: 16px;
          margin: 0;
          max-width: 96vw;
          width: 96vw;
        }
        .img-box-left img {
          max-width: 96vw;
          margin: 14px auto 0 auto;
        }
      }
    </style>
  </head>
  <body>
    <div class="side-decor side-left"></div>
    <div class="side-decor side-right"></div>
    <div class="topbar">
      <img
        class="brand-logo"
        src="data:image/jpeg;base64,{{ logo_data }}"
        alt="Meeti Soluções Logo"
      />
      <div class="title-underline"></div>
    </div>
    <img
      src="https://images.unsplash.com/photo-1512453979798-5ea266f8880c?auto=format&fit=crop&w=900&q=80"
      class="header-img"
      alt="Banner cidade grande"
    />
    <div class="container-flex">
      <div class="img-box-left">
        <img src="mapa.jpg" alt="Mapa do Brasil" />
      </div>
      <div class="container">
        <h2>Consultar Código IBGE da Cidade</h2>
        <form action="/consultar" method="post">
          <label for="cidade">Cidade:</label>
          <input type="text" id="cidade" name="cidade" required />
          <label for="estado">Estado (UF) - opcional:</label>
          <select id="estado" name="estado">
            <option value="">-- Não informar estado --</option>
            <option value="AC">Acre</option>
            <option value="AL">Alagoas</option>
            <option value="AP">Amapá</option>
            <option value="AM">Amazonas</option>
            <option value="BA">Bahia</option>
            <option value="CE">Ceará</option>
            <option value="DF">Distrito Federal</option>
            <option value="ES">Espírito Santo</option>
            <option value="GO">Goiás</option>
            <option value="MA">Maranhão</option>
            <option value="MT">Mato Grosso</option>
            <option value="MS">Mato Grosso do Sul</option>
            <option value="MG">Minas Gerais</option>
            <option value="PA">Pará</option>
            <option value="PB">Paraíba</option>
            <option value="PR">Paraná</option>
            <option value="PE">Pernambuco</option>
            <option value="PI">Piauí</option>
            <option value="RJ">Rio de Janeiro</option>
            <option value="RN">Rio Grande do Norte</option>
            <option value="RS">Rio Grande do Sul</option>
            <option value="RO">Rondônia</option>
            <option value="RR">Roraima</option>
            <option value="SC">Santa Catarina</option>
            <option value="SP">São Paulo</option>
            <option value="SE">Sergipe</option>
            <option value="TO">Tocantins</option>
          </select>
          <input type="submit" value="Consultar Código IBGE" />
        </form>
        {% if codigo %}
        <div class="result">
          O código IBGE de <strong>{{ cidade }} / {{ estado }}</strong> é
          <strong>{{ codigo }}</strong>.
        </div>
        {% elif resultados %}
        <div class="list-result">
          <p>
            Foram encontrados múltiplos municípios para
            <strong>{{ cidade }}</strong>:
          </p>
          <ul>
            {% for item in resultados %}
            <li>
              {{ item.nome }} / {{ item.uf }} - Código IBGE: {{ item.id }}
            </li>
            {% endfor %}
          </ul>
        </div>
        {% elif erro %}
        <div class="error">{{ erro }}</div>
        {% endif %}
      </div>
    </div>
  </body>
</html>
"""
